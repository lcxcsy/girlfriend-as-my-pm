(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc7a6f5"],{"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),c=r("2d00"),o=a("species");e.exports=function(e){return c>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3cea":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"page-wrapper",attrs:{"data-title":"渠道经理考勤系统"}},[r("van-nav-bar",{attrs:{title:e.customFormatTime(e.currentDate,"day"),"right-text":"选择日期"},on:{"click-right":function(t){e.showDatePicker=!0}}}),r("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[r("van-datetime-picker",{attrs:{type:"date",title:"选择考勤日期","min-date":e.minData,"max-date":e.maxData,formatter:e.formatterDate},on:{cancel:function(t){e.showDatePicker=!1},confirm:e.handleDateConfirm},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),r("van-divider",[e._v("当日打卡信息")]),r("div",{staticClass:"record-wrapper"},e._l(e.recordsList,(function(t){return r("van-swipe-cell",{key:t.recordId,attrs:{disabled:1===e.currentUser.userType},scopedSlots:e._u([{key:"right",fn:function(){return[r("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"},on:{click:function(r){return e.confirmDeleteRecord(t.recordId)}}})]},proxy:!0}],null,!0)},[r("van-card",{attrs:{title:"渠道经理："+t.userName,desc:"备注信息："+t.message,thumb:t.faceUrlFull},on:{"click-thumb":function(r){return e.ImagePreview([t.faceUrlFull])}},scopedSlots:e._u([{key:"tags",fn:function(){return[r("div",{staticClass:"van-card__desc van-ellipsis"},[e._v(" 打卡地点："+e._s(t.location)+" ")]),r("div",{staticClass:"van-card__desc van-ellipsis"},[e._v(" 打卡时间："+e._s(t.createdAt)+" ")])]},proxy:!0}],null,!0)})],1)})),1)],1)},a=[],c=r("1da1"),o=(r("96cf"),r("d81d"),r("365c")),i=r("ed08"),s=r("2241"),u=r("28a2"),l=r("ed09"),d=Object(l["c"])({name:"AttendanceRecords",setup:function(e,t){var r=t.root,n=Object(l["e"])(!1),a=Object(l["e"])(new Date),d=new Date(2020,0,1),f=new Date(2026,12,31),m=Object(l["e"])([]),p=window.origin,v=r.$store.getters.userInfo,b=function(e,t){return"year"===e?"".concat(t,"年"):"month"===e?"".concat(t,"月"):"day"===e?"".concat(t,"日"):t},h=function(){n.value=!1,w()},w=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=v.userId,r=v.userType,n=Object(i["b"])(a.value,"custom","00:00:00"),c=Object(i["b"])(a.value,"custom","23:59:59"),e.next=6,o["h"]({startTime:n,endTime:c,userId:t,userType:r});case 6:s=e.sent,u=s.data,m.value=u?u.map((function(e){return e.faceUrlFull=p+e.faceUrl,e.createdAt=Object(i["b"])(e.createdAt),e})):[],e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0,"queryAttendRecords");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();w();var D=function(e){s["a"].confirm({title:"删除确认",message:"是否删除该条考勤记录？"}).then((function(){k(e)}))},k=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["d"](t);case 3:s["a"].alert({message:"删除成功!"}),w(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0,"handleDeleteRecord");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{currentUser:v,ImagePreview:u["a"],showDatePicker:n,currentDate:a,customFormatTime:i["b"],formatterDate:b,handleDateConfirm:h,minData:d,maxData:f,recordsList:m,queryAttendRecords:w,confirmDeleteRecord:D,handleDeleteRecord:k}}}),f=d,m=(r("8e53"),r("2877")),p=Object(m["a"])(f,n,a,!1,null,"befb8456",null);t["default"]=p.exports},"8e53":function(e,t,r){"use strict";r("ad8c")},ad8c:function(e,t,r){},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,c=r("1dde"),o=c("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);